import{I as A,j as e,N as E,b as r,G as h,g as N,C as u,a as p,T as n,z as O,Q as j,y as q,B as f}from"./index-DAQkB8Or.js";import{d as b,M as G,r as H,a as I,b as _,c as U,e as K,f as L}from"./Visibility-D_PdAmkR.js";import{T as Y,_ as D}from"./TotalGrowthBarChart-CzOO81-2.js";import{T as F,a as J,b as V,c as w,d as t,e as W,f as X}from"./TableRow-I-FtpPTN.js";const te=()=>{const{instance:y}=A();if(!y.getActiveAccount())return e.jsx(E,{to:"/login",replace:!0});const[i,v]=r.useState([]),[P,T]=r.useState(!0),[z,d]=r.useState(!1),[a,m]=r.useState(null),[c,x]=r.useState(0),[l,C]=r.useState(5),k={chart:{id:"quiz-performance",toolbar:{show:!1},background:"transparent"},stroke:{curve:"smooth",width:2},xaxis:{categories:i.map(s=>s.messages)},colors:["#007bff","#ff7f0e"],tooltip:{theme:"dark"},grid:{borderColor:"#f1f1f1"}},M=[{name:"Quiz Scores",data:i.map(s=>Math.floor(Math.random()*2)||0)}];r.useEffect(()=>{(async()=>{try{const o=await fetch("https://bu-fos-mastermind.solutions-apps.com/ai/quizzes");if(!o.ok)throw new Error("Network response was not ok");const Q=await o.json();v(Q)}catch(o){console.error("Error fetching quizzes:",o)}finally{T(!1)}})()},[]);const S=s=>{m(s),d(!0)},g=()=>{d(!1),m(null)},B=(s,o)=>{x(o)},R=s=>{C(parseInt(s.target.value,10)),x(0)};return P?e.jsx(Y,{}):e.jsxs(h,{container:!0,spacing:N,children:[e.jsx(h,{item:!0,xs:12,children:e.jsx(u,{style:{width:"100%",marginBottom:"20px"},children:e.jsxs(p,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Quiz Performance"}),e.jsx(D,{options:k,series:M,type:"line",height:350})]})})}),e.jsx(h,{item:!0,xs:12,children:e.jsx(u,{style:{width:"100%"},children:e.jsxs(p,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Quiz Management"}),e.jsx(F,{component:O,style:{width:"100%"},children:e.jsxs(J,{"aria-label":"quiz management table",children:[e.jsx(V,{children:e.jsxs(w,{children:[e.jsx(t,{children:"Quiz Name"}),e.jsx(t,{children:"Username"}),e.jsx(t,{children:"Quiz Time"}),e.jsx(t,{align:"center",children:"Actions"})]})}),e.jsx(W,{children:i.slice(c*l,c*l+l).map(s=>e.jsxs(w,{children:[e.jsx(t,{children:s.messages}),e.jsx(t,{children:s.username}),e.jsx(t,{children:s.quizTime}),e.jsx(t,{align:"center",children:e.jsx(j,{"aria-label":"show response",onClick:()=>S(s),children:e.jsx(b,{})})})]},s.id))})]})}),e.jsx(X,{rowsPerPageOptions:[5,10,25],component:"div",count:i.length,rowsPerPage:l,page:c,onPageChange:B,onRowsPerPageChange:R})]})})}),e.jsx(q,{open:z,onClose:g,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:e.jsxs(f,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"16px",width:"80%",maxHeight:"80vh",overflow:"auto"},children:[e.jsx(n,{id:"modal-title",variant:"h3",component:"h2",children:" Message"}),e.jsxs(f,{sx:{maxHeight:"50vh",overflowY:"auto",mt:2},children:[e.jsxs(n,{variant:"body1",children:[e.jsx("strong",{children:"Quiz Name:"})," ",a==null?void 0:a.messages]}),e.jsxs(n,{variant:"body1",children:[e.jsx("strong",{children:"Username:"})," ",a==null?void 0:a.username]}),e.jsxs(n,{variant:"body1",children:[e.jsx("strong",{children:"Quiz Time:"})," ",a==null?void 0:a.quizTime]}),e.jsx("div",{style:{height:20}}),e.jsx(n,{id:"modal-title",variant:"h3",component:"h2",children:"Response"}),e.jsx("div",{style:{height:8}}),e.jsx(G,{remarkPlugins:[H,I,_],rehypePlugins:[U,[K,{detect:!0,ignoreMissing:!1}],L],children:a==null?void 0:a.response})]}),e.jsx(j,{onClick:g,"aria-label":"close",sx:{mt:2,position:"absolute",top:8,right:8},children:e.jsx(b,{})})]})})]})};export{te as default};
